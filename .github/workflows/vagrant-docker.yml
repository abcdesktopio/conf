name: vagrant-up

on: [push]

jobs:
  vagrant-up:
    runs-on: self-hosted
    # runs-on: macos-10.15

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    # - name: Cache Vagrant boxes
    #  uses: actions/cache@v2
    #  with:
    #    path: ~/.vagrant.d/boxes
    #    key: ${{ runner.os }}-vagrant-${{ hashFiles('Vagrantfile') }}
    #    restore-keys: |
    #      ${{ runner.os }}-vagrant-

    - name: Run script file
      run: |
         ls -la 
      shell: bash

    - name: Run vagrant up
      run: vagrant up
      
    - name: Clear vagrant 
      run: vagrant destroy -f
